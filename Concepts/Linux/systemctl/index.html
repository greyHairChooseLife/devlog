<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    
    <title>about systemd - My Docs</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../../css/base.min.css" rel="stylesheet">
    <link href="../../../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="../../..">My Docs</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../resources/">resource from youtube</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concepts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Containerization</a>
    <ul class="dropdown-menu">
        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Docker</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Containerization/Docker/">도커의 구성요소</a>
</li>

        
            
<li >
    <a href="../../Containerization/Docker/QnA/">스스로 질문하기</a>
</li>

        
            
<li >
    <a href="../../Containerization/Docker/best-practices/">사용 사례</a>
</li>

        
            
<li >
    <a href="../../Containerization/Docker/tools/">컨테이너를 다루는 도구들</a>
</li>

        
    </ul>
  </li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Kubernetes</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Containerization/Kubernetes/">쿠버네티스의 이해</a>
</li>

        
            
<li >
    <a href="../../Containerization/Kubernetes/QnA/">스스로 질문하기</a>
</li>

        
            
<li >
    <a href="../../Containerization/Kubernetes/how-to-deploy%28step-by-step%20guide%29/">실전 배포하기 step-by-step guide</a>
</li>

        
            
<li >
    <a href="../../Containerization/Kubernetes/tools/">쿠버네티스를 다루는 도구들</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Installing</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Containerization/Kubernetes/Installing/concepts/">직접 설치에 수반되는 필수 개념들</a>
</li>

        
            
<li >
    <a href="../../Containerization/Kubernetes/Installing/step-by-step/">차근차근 설치하기</a>
</li>

        
    </ul>
  </li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Networking</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Containerization/Kubernetes/Networking/">Kubernetes networking</a>
</li>

        
    </ul>
  </li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Resources</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Containerization/Kubernetes/Resources/">쿠버네티스 리소스와 API 그룹</a>
</li>

        
            
<li >
    <a href="../../Containerization/Kubernetes/Resources/ConfigMap/">ConfigMap</a>
</li>

        
            
<li >
    <a href="../../Containerization/Kubernetes/Resources/Services/">Services</a>
</li>

        
            
<li >
    <a href="../../Containerization/Kubernetes/Resources/Volume%28local%29/">Volume(local)</a>
</li>

        
            
<li >
    <a href="../../Containerization/Kubernetes/Resources/Workloads/">Workloads</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Linux</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../home-file-structure/">home file structure</a>
</li>

        
            
<li class="active">
    <a href="./">about systemd</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">SHELL</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../SHELL/">shell script의 세계</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Alias</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../SHELL/alias/kubernetes/">kubernetes alias</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">STYLE</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../STYLE/css-frameworks/">css frameworks</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Devlog <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Devlog/">개발 블로그</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">2024</a>
    <ul class="dropdown-menu">
        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">03</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Devlog/2024/03/nvim-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8%EC%97%90-%EC%9D%B4%EC%8A%88-%EB%82%A8%EA%B8%B0%EA%B8%B0/">nvim 플러그인에 이슈 남기기</a>
</li>

        
    </ul>
  </li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">04</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Devlog/2024/04/production-level%EB%A1%9C-%EA%B3%B5%EB%B6%80%ED%95%98%EA%B8%B0/">I just wanted to deploy my code!</a>
</li>

        
            
<li >
    <a href="../../../Devlog/2024/04/%EC%98%A4%ED%94%88%EC%86%8C%EC%8A%A4%EC%97%90-%EB%82%9C%EC%83%9D%EC%B2%98%EC%9D%8C-PR/">오픈소스에-난생처음-PR</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Projects/">길잡이</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Ideas</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Projects/Ideas/baby-sitting-simulator/">baby_sitting_simulator</a>
</li>

        
            
<li >
    <a href="../../../Projects/Ideas/book-club/">독서모임</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tools <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Tools/">None</a>
</li>

                        
                            
<li >
    <a href="../../../Tools/shellcheck/">shell script 에러 체크</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Documentation</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Tools/documentation/mkdocs/">mkdocs의 활용</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Github</a>
    <ul class="dropdown-menu">
        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Gh(cli)</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Tools/github/gh%28cli%29/">gh notify</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Neovim</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Tools/neovim/ts-error-prettify/">neovim에서 ts_error_prettify 사용하기</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Sysadmin</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Tools/sysadmin/sysz/">sysz: interactive ui for systemctl</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">오답노트 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../%EC%98%A4%EB%8B%B5%EB%85%B8%ED%8A%B8/">길잡이</a>
</li>

                        
                            
<li >
    <a href="../../../%EC%98%A4%EB%8B%B5%EB%85%B8%ED%8A%B8/%22domain%20status%3A%20clientHold%22/">domain status: clientHold</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../home-file-structure/">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../../SHELL/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#1-what-is-systemd">1. What is "systemd"</a></li>
        <li class="first-level "><a href="#2-types-of-unit">2. Types of "unit"</a></li>
        <li class="first-level "><a href="#3-where-are-unit-files">3. Where are unit files?</a></li>
        <li class="first-level "><a href="#4-how-is-unit-file-look-alike">4. How is "unit file" look alike?</a></li>
            <li class="second-level"><a href="#41-run-level-target">4.1 run level =&gt; target</a></li>
                
            <li class="second-level"><a href="#42-usful-commands">4.2 usful commands</a></li>
                
        <li class="first-level "><a href="#5-how-to-edit-unit-file">5. How to edit unit file?</a></li>
            <li class="second-level"><a href="#51-edit">5.1 edit</a></li>
                
            <li class="second-level"><a href="#52-delete">5.2 delete</a></li>
                
            <li class="second-level"><a href="#53-reload">5.3 reload</a></li>
                
        <li class="first-level "><a href="#qna">*QnA</a></li>
        <li class="first-level "><a href="#reference">*reference</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<p>처음 systemd를 접한건 mysql을 설치하고 실행하는 과정이었다. 그땐 도커도 몰랐는데, 그래서 이걸 실행하려면
systemctl로 켜줘야했다.</p>
<p>켜고 끄고 반복하고, 다른 어플리케이션들도 같은 방식인게 많았다. 명령이나 status 포맷같은것도 나름 패턴이
보이기 시작했다. 그래서 공부를 따로 안해도 막 불편한건 몰랐는데...</p>
<p><a href="/Tools/sysadmin/sysz">sysz</a>라는 관리도구를 사용하기 시작한 지금부터는 좀 알고 써야겠다는 생각이 들었다.</p>
<h2 id="1-what-is-systemd">1. What is "systemd"</h2>
<p><code>init</code>은 부팅 후 가장 먼저 실행되는 PID 1번 프로스세스였는데, 이것을 대체한 것이 <code>systemd</code>다. 그리고 다른
기능들도 대체했다.</p>
<blockquote>
<p>system and service manager, usually not invoked directly by the user</p>
<p><em>ref. <code>man systemd</code></em></p>
</blockquote>
<div class="bs-callout bs-callout-info">
  <h4>init의 세대교체</h4>
`init`은 쉘 스크립트로 작성된 파일을 실행하는 방식이었는데, `systemd`는 이를 `unit`라 부르는 요소로 바꿔
속도와 가독성을 개선했다.
</div>

<h2 id="2-types-of-unit">2. Types of "unit"</h2>
<ul>
<li>systemd는 unit을 이용해 시스템 부팅 및 유지를 관리</li>
<li>unit은 11개 타입</li>
<li>관리 대상들을 <code>&lt;service name&gt;.&lt;unit type&gt;</code>으로 지칭, 동일한 naming을 따르는 설정 파일을 사용</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;">unit</th>
<th style="text-align: left;">담당 기능</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">service</td>
<td style="text-align: left;">daemons</td>
</tr>
<tr>
<td style="text-align: center;">socket</td>
<td style="text-align: left;">local IPC, network sockets</td>
</tr>
<tr>
<td style="text-align: center;">target</td>
<td style="text-align: left;">to group units</td>
</tr>
<tr>
<td style="text-align: center;">device</td>
<td style="text-align: left;">kernel devices &amp; device-based activation</td>
</tr>
<tr>
<td style="text-align: center;">mount</td>
<td style="text-align: left;">control mount points in the file system</td>
</tr>
<tr>
<td style="text-align: center;">automount</td>
<td style="text-align: left;">automount capabilities</td>
</tr>
<tr>
<td style="text-align: center;">timer</td>
<td style="text-align: left;">triggering activation of other units based on timers</td>
</tr>
<tr>
<td style="text-align: center;">swap</td>
<td style="text-align: left;">memory swap partitions</td>
</tr>
<tr>
<td style="text-align: center;">path</td>
<td style="text-align: left;">activate other services when file system objects change or are modified</td>
</tr>
<tr>
<td style="text-align: center;">slice</td>
<td style="text-align: left;">group units which manage system processes for resource management</td>
</tr>
<tr>
<td style="text-align: center;">scope</td>
<td style="text-align: left;">similar to service units, but manage foreign processes</td>
</tr>
</tbody>
</table>
<p>실사용시 주로 serives를 다루게 되겠지만, 이 밖에도 다양한 종류의 unit이 있다는것을 알아두자.</p>
<h2 id="3-where-are-unit-files">3. Where are unit files?</h2>
<p>아래의 다양한 위치에 있다. 각각이 상이한 목적을 가진다.</p>
<p><strong>특히 1&gt;2&gt;3 번호순으로 높은 priority를 가진다.</strong> unit file은 말하자면 설정파일이기 때문에 덮어 씌워진다는
뜻이다.</p>
<ol>
<li>
<p><code>/etc/systemd/system/</code> : 가장 자주 방문할 위치.</p>
</li>
<li>
<p><code>/run/systemd/system/</code> : systemd가 전체 시스템을 관리하는 와중에 생기는 임시파일 따위를 저장하는 곳.
    사람이 관여할 일이 없다고 보면 된다.</p>
</li>
<li>
<p><code>/lib/systemd/system/</code> : application이 설치될 때 필요하면 여기에 만들어진다. 낮은 우선순위를 갖는건
    당연하다. 내가 시스템의 주인이니까.</p>
</li>
</ol>
<h2 id="4-how-is-unit-file-look-alike">4. How is "unit file" look alike?</h2>
<p>우리는 기계가 아니니까, 모든 종류의 unit을 다룰수는 없다. 다만 대략 이렇게 생겼다는것을 살펴보자.</p>
<p>예시로 apatch web server를 설치하면 httpd.service 유닛이 생성된 것을 볼 수 있을 것이다.</p>
<p>열어보면 3개의 section이 있다. 각각에는 필수/비필수 field가 있다. 이것들은 배포판마다 다르기도 하다.</p>
<pre><code class="language-bash"># systemctl cat &lt;unit name&gt;.&lt;type&gt;

[Unit]
Description=Apache Web Server
After=network.target remote-fs.target nss-lookup.target # prerequisite before this unit

[Service]
Type=simple # unit의 타입. 모두 알 필요 없다.
ExecStart=/usr/bin/httpd -k start -DFOREGROUND # systemctl 따위로 start 명령시 수행할 것
ExecStop=/usr/bin/httpd -k graceful-stop
ExecReload=/usr/bin/httpd -k graceful
PrivateTmp=true
LimitNOFILE=infinity
KillMode=mixed

[Install]
WantedBy=multi-user.target # run level과 관련
</code></pre>
<h3 id="41-run-level-target">4.1 run level =&gt; target</h3>
<p>unit 파일의 하단에 "[Install].WantedBy" 속성에 multi-user.target은 무엇인가?</p>
<p>Unix 계열과 Linux는 부팅시에 시스템이 어떤 수준으로 기능을 제공할지 정하는 run level이라는 개념이 있었다.
근데 이게 systemd 도입 이후에 run level은 target으로 용어가 변경되었다.</p>
<p><center><strong>compare "run level" &amp; "target"</strong></center></p>
<table>
<thead>
<tr>
<th style="text-align: center;">run level</th>
<th style="text-align: center;">target</th>
<th style="text-align: left;">설명</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">poweroff.target</td>
<td style="text-align: left;">시스템 종료</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">rescue.target</td>
<td style="text-align: left;">단일 사용자 모드</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: center;">multi-user.target</td>
<td style="text-align: left;">사용되지 않음(사용자가 지정 가능)</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td style="text-align: center;">multi-user.target</td>
<td style="text-align: left;">텍스트 기반의 다중 사용자 모드</td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: center;">multi-user.target</td>
<td style="text-align: left;">사용되지 않음(사용자가 지정 가능)</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: center;">graphical.target</td>
<td style="text-align: left;">그래픽 모드</td>
</tr>
<tr>
<td style="text-align: center;">6</td>
<td style="text-align: center;">reboot.target</td>
<td style="text-align: left;">시스템 재부팅</td>
</tr>
</tbody>
</table>
<p>비교표를 보면 알겠지만 맨날만날 붙잡고 있는 컴퓨터는 5번, graphical.target에 해당하겠다. 텍스트 기반이라면
그보다 낮은 숫자인데, 예를들어 서버라면 보통 multi-user.target이겠다.</p>
<h3 id="42-usful-commands">4.2 usful commands</h3>
<ul>
<li><code>systemctl get-default</code></li>
</ul>
<p>명령어로 기본 타겟을 확인할 수 있다.</p>
<ul>
<li><code>systemctl list-dependencies &lt;unit name&gt;.&lt;type&gt;</code></li>
</ul>
<p>unit의 의존성을 확인할 수 있다. 보통은 type=target을 보게 된다.</p>
<ul>
<li><code>systemctl list-units [--type=&lt;type of unit&gt;]</code></li>
</ul>
<p>unit type별로 메모리에 로드된 것을 확인할 수 있다. active, inactive, failed 등으로 나뉜다.</p>
<ul>
<li><code>systemctl list-unit-files [--type=&lt;type of unit&gt;]</code></li>
</ul>
<p>메모리에 load되지 않은것도 확인 할 수 있다. unit의 구성을 관리할 때 유용</p>
<p>참고로 수 많은 유닛은 유기적으로 의존하고 있다. 그래서 <code>cat</code> 명령으로 unit 파일을 열어보는 것과는 다르게,
<code>show</code> 명령으로 현황을 살펴보면 확인할 수 있는 정보가 훨씬 많다.</p>
<p>이런걸 다 꿰고 있어야 하진 않지만, 어떤 서비스에 문제가 생겼다면 무엇에 의존하고 있는지 파악할 줄
알아야겠다.</p>
<h2 id="5-how-to-edit-unit-file">5. How to edit unit file?</h2>
<h3 id="51-edit">5.1 edit</h3>
<p><code>systemctl edit &lt;service&gt;</code> path는 굳이 줄 필요 없다.</p>
<p>unit 파일의 문법에 맞게 override 할 부분만 작성해주면, <code>/etc/systemd/system/&lt;service&gt;.d/override.conf</code>처럼
최상위 파일이 생성된다.</p>
<blockquote>
<p><code>--full</code> flag를 추가하면 완전히 대체할 파일을 작성할 수 있다.(원본 복사해서 시작)</p>
<p>패키지 업데이트 등에도 변함없이 나만의 설정을 유지해야한다면 이것이 좋은 대안이 될 것이다.</p>
</blockquote>
<h3 id="52-delete">5.2 delete</h3>
<p>변경 내용을 되돌리는것도 간단하다. 이 파일을 삭제하면 된다.</p>
<h3 id="53-reload">5.3 reload</h3>
<p><code>systemctl daemon-reload [ &lt;service&gt; ]</code></p>
<p>물론 실행중인 서비스가 종료되지는 않는다. 단지 unit 파일에 변경사항이 있는지 확인하고 load하는것 뿐이다.</p>
<blockquote>
<p>그러나 돌다리도 두들겨 보고 건너자.</p>
</blockquote>
<h2 id="qna">*QnA</h2>
<ul>
<li><strong>Loaded, Active</strong>가 나뉘어진 이유는 뭐야?</li>
</ul>
<blockquote>
<p><strong>Loaded</strong>: systemd가 해당 서비스의 unit 파일을 읽고 파싱해서 메모리에 로드했다는 뜻.</p>
</blockquote>
<ul>
<li><strong>Loaded</strong>의 괄호 내부에 표현되는 "상태"들의 종류</li>
</ul>
<p>아래의 요소들 외에도 어쩌구 저쩌구 많다만, 일단 이거라도 한번 읽어보자.</p>
<blockquote>
<p><strong>enabled</strong>: 자동시작 O <strong>disabled</strong>: 자동시작 X</p>
<p><strong>static</strong>: 기타 유닛에 의해서 관리되는 서비스. 그러니 (이름처럼)자동시작 걸고 자시고 필요가 없다. 때가
되면 분연히 떨치고 일어난다.</p>
<p><strong>transient</strong>: 기타 유닛이 실행될 때(runtime) 필요해서 생겨나고 또 사라지는 놈. 위에서 공부한
<code>/run/systemd/system/</code>에 unit 파일이 생기고 삭제 된다.</p>
<p>내 시스템을 조회해보니 docker container들과 kubernetes pod들이 이런 상태를 가진다. 헌데
<code>/run/systemd/system/</code>에는 없다. 모든 서비스의 unit 파일이 해당 위치에서 보이는건 아니란 뜻이다.</p>
<p><strong>generated</strong>: systemd가 직접 관리하는 요소는 아니지만(<em>unit 파일이 없다.</em>), 기타 시스템 구성요소로부터
service로 실행될 놈들이다.</p>
<p>역시나 <code>/run/systemd/system/</code>에 unit 파일이 임시로 생성되고 삭제된다.</p>
<p>내 시스템을 살펴보면 몇가지 mount point가 이 상태를 가지고, 이외에는 autostart 되는 실행파일들이다.</p>
<p><strong>preset</strong>: package manager가 app을 설치할 때 설정된 내용을 기록한 것. 역시 리눅스!!</p>
</blockquote>
<ul>
<li>init을 대체한다는데, 그럼 최초에 실행될 service 또는 service list는?</li>
</ul>
<blockquote>
<p><code>systemctl get-default</code> 로 확인할 수 있다.</p>
</blockquote>
<ul>
<li><code>&lt;unit name&gt;.service</code>가 아니라 <code>&lt;unit name&gt;@.service</code>의 정체는 뭐야?</li>
</ul>
<blockquote>
<p>템플릿 유닛이다. 비슷한 설정의 서비스를 여러개 만들어야 할 때 사용한다. 생성된 instance는
<service name>@<instance name>.<type>와 같은 모습니다.</p>
</blockquote>
<h2 id="reference">*reference</h2>
<ul>
<li>youtube: <a href="https://www.youtube.com/watch?v=vg8bcRlNXB8&amp;t=678s">[따라學 IT] 04. systemd - 이론</a></li>
<li>youtube:
  <a href="https://www.youtube.com/watch?v=Kzpm-rGAXos">Systemd Deep-Dive: A Complete, Easy to Understand Guide for Everyone</a></li>
</ul></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = "../../.."</script>
    
    <script src="../../../js/base.js"></script>
    <script src="../../../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
